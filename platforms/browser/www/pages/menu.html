<template>
  <div class="page no-swipeback padding-b-10vh">
  
    <div class="page-content ptr-content" style="padding: 10px;">
    <div class="ptr-preloader">
    <div class="preloader"></div>
    <div class="ptr-arrow"></div>
  </div>
      <br>
      <!--Grupo-->
      {{#if grupos}}
      {{#each grupos}}
      <a href="/grupo/?id={{_id}}">
        <div class="card demo-card-header-pic">
          <div style="background-image:url(data:image/png;base64,{{imagem}})" class="card-header align-items-flex-end"></div>
          <div class="card-content card-content-padding cardMenu">
            <div class="if">
              <p class="descricaoMenu">{{sigla}}</p>
              <!-- <p class="dataMenu">Segunda-feira ás 11:15h na Capela<br> Quinta-feira ás 18hs no Bosque da Arquitetura</p>  -->
              <p class="dataMenu">{{sobre}}</p>
            </div>
          </div>
        </div>
      </a>
      {{/each}}
      {{/if}}
    </div>
	</div>
</template>
<style>
  .demo-card-header-pic .card-header {
    height: 40vw;
    background-size: cover;
    background-position: center;
    color: #fff;
  }

  .demo-card-header-pic .centered {
    padding-left: 42%;
  }
</style>
<script>
  return {
    data: function () {
      var grupos = JSON.parse(localStorage.getItem('Grupos')) || null
      return { titulo: 'Menu', nomeDeUsuario: this.$app.data.username, grupos: grupos }
    },
    on: {
      pageInit: async function () {
        // JS.init()
         // Pull to refresh content
      var ptrContent = $('.ptr-content');
      ptrContent.on('ptr:refresh', function (e) {
        await JS.init();
        
        router.navigate(router.currentRoute.url, {
          reloadCurrent: true,
          ignoreCache: true,
        });
        // When loading done, we need to reset it
        app.ptr.done(); // or e.detail();
      }, 2000);
      }
    },
    methods: {
      
    }
  }
</script>